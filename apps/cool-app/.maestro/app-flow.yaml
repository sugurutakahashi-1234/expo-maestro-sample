appId: com.sugurutakahashi.coolapp
---
# ==========================================
# Maestro ãƒ†ã‚¹ãƒˆå®Ÿè£…æ™‚ã®ãƒãƒã‚Šãƒã‚¤ãƒ³ãƒˆé›†
# ==========================================
#
# 1. Maestro Studioã¨CLIã®åŒæ™‚ä½¿ç”¨ä¸å¯ï¼ˆæœ€é‡è¦ï¼ï¼‰
#    - Maestro StudioãŒèµ·å‹•ã—ã¦ã„ã‚‹ã¨ã€CLIã§launchAppãŒæ©Ÿèƒ½ã—ãªã„
#    - ãƒãƒ¼ãƒˆ7001ã®ç«¶åˆãŒåŸå› ï¼ˆä¸¡è€…ãŒåŒã˜ãƒãƒ¼ãƒˆã‚’ä½¿ç”¨ï¼‰
#    - å¯¾ç­–: CLIãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã¯å¿…ãšMaestro Studioã‚’çµ‚äº†ã™ã‚‹
#    - å‚è€ƒ: https://github.com/mobile-dev-inc/maestro/issues/1927
#
# 2. iOSã§ã®accessibilityLabelå¿…é ˆ
#    - iOSã§ã¯accessibilityLabelã‚’è¨­å®šã—ãªã„ã¨MaestroãŒè¦ç´ ã‚’èªè­˜ã§ããªã„
#    - ç‰¹ã«ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ãƒœã‚¿ãƒ³ãªã©ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªè¦ç´ ã§å¿…é ˆ
#    - React Nativeã®accessibilityLabelå±æ€§ã‚’ä½¿ç”¨ã—ã¦è¨­å®šã™ã‚‹
#    - å‚è€ƒ: https://reactnative.dev/docs/accessibility#accessibilitylabel
#    - å‚è€ƒ: https://docs.maestro.dev/platform-support/ios-uikit
#
# 3. iOSã®ç‰©ç†ãƒ‡ãƒã‚¤ã‚¹ã¯éå¯¾å¿œ
#    - Maestroã¯ç¾æ™‚ç‚¹ã§iOSã®ç‰©ç†ãƒ‡ãƒã‚¤ã‚¹ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„
#    - iOSãƒ†ã‚¹ãƒˆã¯ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã®ã¿ã§å®Ÿè¡Œå¯èƒ½
#    - Androidã¯ç‰©ç†ãƒ‡ãƒã‚¤ã‚¹ã§ã‚‚ãƒ†ã‚¹ãƒˆå¯èƒ½
#    - å‚è€ƒ: https://docs.maestro.dev/getting-started/installing-maestro#connecting-to-your-device
#
# 4. runFlowå†…ã§ã®takeScreenshotä½¿ç”¨æ™‚ã®æ³¨æ„
#    - runFlowã®commandså†…ã§takeScreenshotã‚’ä½¿ã†å ´åˆã€
#      ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®.maestro/screenshots/ãƒ‘ã‚¹ãŒè‡ªå‹•é©ç”¨ã•ã‚Œãªã„
#    - æ˜ç¤ºçš„ã«".maestro/screenshots/android/xxx"ã®ã‚ˆã†ãªå®Œå…¨ãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹
#
# 5. CLIã¨Studioã§ã®ãƒ‘ã‚¹è§£é‡ˆã®é•ã„
#    - CLI: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã‹ã‚‰è¦‹ãŸãƒ‘ã‚¹ã¨ã—ã¦è§£é‡ˆ
#      â†’ ".maestro/screenshots/ios/home-tab.png" ã¨ã—ã¦ä¿å­˜
#    - Studio: .maestroãƒ•ã‚©ãƒ«ãƒ€ã‚’ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ã—ã¦å®Ÿè¡Œ
#      â†’ ".maestro/screenshots/.maestro/screenshots/ios/home-tab.png" ã¨ãªã‚‹ï¼ˆäºŒé‡ãƒ‘ã‚¹ï¼‰
#    - ã“ã®å•é¡Œã‚’å›é¿ã™ã‚‹ãŸã‚ã€CLIå®Ÿè¡Œã‚’æ¨å¥¨
#
# 6. whenæ¡ä»¶ã¯runFlowã¨runScriptã§ã®ã¿ä½¿ç”¨å¯èƒ½
#    - ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ†å²ï¼ˆwhen: platform: android/iosï¼‰ã‚’ä½¿ã„ãŸã„å ´åˆã€
#      å¿…ãšrunFlowã¾ãŸã¯runScriptã§å›²ã‚€å¿…è¦ãŒã‚ã‚‹
#    - takeScreenshotã€tapOnã€assertVisibleãªã©ã®é€šå¸¸ã‚³ãƒãƒ³ãƒ‰ã«ç›´æ¥whenã¯ä½¿ãˆãªã„
#    - ä¾‹: - takeScreenshot: xxx ã« when: platform: ios ã¯ä»˜ã‘ã‚‰ã‚Œãªã„
#    - æ­£ã—ãã¯: - runFlow: { when: { platform: ios }, commands: [- takeScreenshot: xxx] }
#    - å‚è€ƒ: https://docs.maestro.dev/advanced/conditions
#
# ==========================================

- launchApp:
    appId: "com.sugurutakahashi.coolapp"
    clearState: true

# ãƒ›ãƒ¼ãƒ ç”»é¢ã®ç¢ºèª
- assertVisible: "Expo ãƒ¢ãƒãƒ¬ãƒ with Bun"
- assertVisible: "ğŸ“š è¨˜äº‹ãƒªã‚¹ãƒˆ"
- runFlow:
    when:
      platform: android
    commands:
      - takeScreenshot: .maestro/screenshots/android/home-tab
- runFlow:
    when:
      platform: ios
    commands:
      - takeScreenshot: .maestro/screenshots/ios/home-tab

# è¨˜äº‹ãƒªã‚¹ãƒˆã®ç¢ºèªã¨è©³ç´°ç”»é¢ã¸ã®é·ç§»
- assertVisible: "Expo Routerã®å§‹ã‚æ–¹"
- tapOn: "Expo Routerã®å§‹ã‚æ–¹"
- assertVisible: "è¨˜äº‹è©³ç´°"
- assertVisible: "ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«"

# æˆ»ã‚‹
- runFlow:
    when:
      platform: android
    commands:
      - tapOn: Navigate up
- runFlow:
    when:
      platform: ios
    commands:
      - tapOn: è¨˜äº‹ä¸€è¦§

# ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ã‚¹ãƒˆ - é·ç§»ã‚¿ãƒ–
- tapOn: "é·ç§»"
- assertVisible: "ç”»é¢é·ç§»ãƒ‡ãƒ¢"
- runFlow:
    when:
      platform: android
    commands:
      - takeScreenshot: .maestro/screenshots/android/transition-tab
- runFlow:
    when:
      platform: ios
    commands:
      - takeScreenshot: .maestro/screenshots/ios/transition-tab

# ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ã‚¹ãƒˆ - ã“ã®ã‚¢ãƒ—ãƒªã«ã¤ã„ã¦
- tapOn: "ã“ã®ã‚¢ãƒ—ãƒªã«ã¤ã„ã¦"
- assertVisible: "ã“ã®ã‚¢ãƒ—ãƒªã«ã¤ã„ã¦ã®èª¬æ˜"
- runFlow:
    when:
      platform: android
    commands:
      - takeScreenshot: .maestro/screenshots/android/about-tab
- runFlow:
    when:
      platform: ios
    commands:
      - takeScreenshot: .maestro/screenshots/ios/about-tab

# ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ã‚¹ãƒˆ - ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«
- tapOn: "ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«"
- assertVisible: "ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±"
- runFlow:
    when:
      platform: android
    commands:
      - takeScreenshot: .maestro/screenshots/android/profile-tab
- runFlow:
    when:
      platform: ios
    commands:
      - takeScreenshot: .maestro/screenshots/ios/profile-tab
# ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹
- tapOn: "ãƒ›ãƒ¼ãƒ "
- assertVisible: "ğŸ“š è¨˜äº‹ãƒªã‚¹ãƒˆ"

# ãƒ­ã‚°ã‚¤ãƒ³ãƒ‡ãƒ¢ãƒœã‚¿ãƒ³ã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
- scrollUntilVisible:
    element:
        text: "ãƒ­ã‚°ã‚¤ãƒ³ãƒ‡ãƒ¢ (Maestroãƒ†ã‚¹ãƒˆç”¨)"
    direction: DOWN
    timeout: 10000

# ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã®ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ãƒ†ã‚¹ãƒˆ
- tapOn: "ãƒ­ã‚°ã‚¤ãƒ³ãƒ‡ãƒ¢ (Maestroãƒ†ã‚¹ãƒˆç”¨)"
- assertVisible: "ãƒ­ã‚°ã‚¤ãƒ³"
- assertVisible: "Maestroãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ãƒ‡ãƒ¢"

# ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å…¥åŠ›
- tapOn:
    id: "email-input"
- inputText: "test@example.com"
- hideKeyboard
- assertVisible:
    id: "email-display"
    text: "test@example.com"

# ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›
- tapOn:
    id: "password-input"
- inputText: "password123"
- hideKeyboard

# å…¥åŠ›å€¤ã®ç¢ºèªï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ãƒã‚¹ã‚¯ã•ã‚Œã¦ã„ã‚‹ã¯ãšï¼‰
- assertVisible:
    id: "password-display"

# å…¥åŠ›å®Œäº†å¾Œã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ
- runFlow:
    when:
      platform: android
    commands:
      - takeScreenshot: .maestro/screenshots/android/login-form-filled
- runFlow:
    when:
      platform: ios
    commands:
      - takeScreenshot: .maestro/screenshots/ios/login-form-filled

# ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—
- tapOn:
    id: "login-button"

# ã‚¢ãƒ©ãƒ¼ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
- assertVisible: "ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ"

# ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ
- runFlow:
    when:
      platform: android
    commands:
      - takeScreenshot: .maestro/screenshots/android/login-success
- runFlow:
    when:
      platform: ios
    commands:
      - takeScreenshot: .maestro/screenshots/ios/login-success

# ã‚¢ãƒ©ãƒ¼ãƒˆã‚’é–‰ã˜ã‚‹
- tapOn: "OK"

# ãƒ›ãƒ¼ãƒ ã«æˆ»ã£ãŸã“ã¨ã‚’ç¢ºèª
- assertVisible: "ğŸ“š è¨˜äº‹ãƒªã‚¹ãƒˆ"

# ä¸€ç•ªä¸Šã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ç¢ºèª
- scrollUntilVisible:
    element:
        text: "Expo ãƒ¢ãƒãƒ¬ãƒ with Bun"
    direction: UP
    timeout: 10000
- assertVisible: "Expo ãƒ¢ãƒãƒ¬ãƒ with Bun"
